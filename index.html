<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Coloring Truchet Tiles</title>
    <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Serif:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <link href="/styles/main.css" rel="stylesheet" />
  </head>
  <body>
    <div class="layout">
      <div class="content">
        <h1 class="title">Coloring Truchet Tiles</h1>

        <div class="app">
          <canvas width="800" height="250"></canvas>
          <div class="caption" style="user-select: none">
            Click the tiling to generate a new one
          </div>
        </div>

        <p>
          <span class="drop-cap">I</span> first heard about computer programs
          that use
          <a href="https://en.wikipedia.org/wiki/Truchet_tiles"
            >Truchet tiles</a
          >
          to make tilings something like two or three decades ago. (I can't say
          for sure. I'm not very good with time.) But in all of those years,
          I've never heard anyone talk about coloring Truchet tiles. I mean,
          I've heard of people generating tilings and then coloring them in
          using a paint program or whatever but nothing about coloring in the
          tiles before generating a tiling. This is the method I discovered for
          coloring Truchet tiles.
        </p>

        <p>
          Truchet tilings always begin with a tile,
          <img src="/img/tile.svg" width="16" height="16" />, and its
          complement, <img src="/img/tile-90.svg" width="16" height="16" />.
          Instead of lines, though, I want to focus on fills,
          <img src="/img/fill-tile.svg" width="16" height="16" /> and
          <img src="/img/fill-tile-90.svg" width="16" height="16" />. These
          tiles are better, but the curves might lead to optical illusions that
          make it hard to see patterns, so let's abstract once more and use
          <img src="/img/sq-fill-tile.svg" width="16" height="16" /> and
          <img src="/img/sq-fill-tile-90.svg" width="16" height="16" />. These
          tiles should be good tools for exploring how colors relate in a
          tiling.
        </p>

        <p>The key is to start simple and place a single tile.</p>

        <table>
          <tr>
            <td><img src="/img/sq-fill-tile.svg" width="50" height="50" /></td>
          </tr>
        </table>

        <p>Then continue the row until there's a pattern.</p>

        <table>
          <tr>
            <td><img src="/img/sq-fill-tile.svg" width="50" height="50" /></td>
            <td>
              <img src="/img/sq-fill-tile-90.svg" width="50" height="50" />
            </td>
            <td><img src="/img/sq-fill-tile.svg" width="50" height="50" /></td>
            <td>
              <img src="/img/sq-fill-tile-90.svg" width="50" height="50" />
            </td>
            <td>⋯</td>
          </tr>
        </table>

        <p>Then continue the column until there's a pattern.</p>

        <table>
          <tr>
            <td><img src="/img/sq-fill-tile.svg" width="50" height="50" /></td>
            <td>
              <img src="/img/sq-fill-tile-90.svg" width="50" height="50" />
            </td>
            <td><img src="/img/sq-fill-tile.svg" width="50" height="50" /></td>
            <td>
              <img src="/img/sq-fill-tile-90.svg" width="50" height="50" />
            </td>
            <td>⋯</td>
          </tr>
          <tr>
            <td>
              <img src="/img/sq-fill-tile-90.svg" width="50" height="50" />
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td><img src="/img/sq-fill-tile.svg" width="50" height="50" /></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td>
              <img src="/img/sq-fill-tile-90.svg" width="50" height="50" />
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td style="text-align: center">⋮</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
        </table>

        <p>
          To make the pattern easier to see and talk about, let's indicate the
          major diagonal:
          <img src="/img/sq-fill-tile-marked.svg" width="16" height="16" /> and
          <img src="/img/sq-fill-tile-marked-90.svg" width="16" height="16" />.
          Magenta means the color is aligned with the major diagonal and cyan
          means it's not. Now we can say that for the color to be continuous in
          a given tiling it must switch from running along the major diagonal to
          running along the minor diagonal every two tiles in both directions.
          In other words, we have discovered that the pattern for coloring
          Truchet tiles is a fixed checkerboard pattern!
        </p>

        <table>
          <tr>
            <td>
              <img src="/img/sq-fill-tile-marked.svg" width="50" height="50" />
            </td>
            <td>
              <img
                src="/img/sq-fill-tile-marked-90.svg"
                width="50"
                height="50"
              />
            </td>
            <td>
              <img src="/img/sq-fill-tile-marked.svg" width="50" height="50" />
            </td>
            <td>
              <img
                src="/img/sq-fill-tile-marked-90.svg"
                width="50"
                height="50"
              />
            </td>
            <td>⋯</td>
          </tr>
          <tr>
            <td>
              <img
                src="/img/sq-fill-tile-marked-90.svg"
                width="50"
                height="50"
              />
            </td>
            <td>
              <img src="/img/sq-fill-tile-marked.svg" width="50" height="50" />
            </td>
            <td>
              <img
                src="/img/sq-fill-tile-marked-90.svg"
                width="50"
                height="50"
              />
            </td>
            <td>
              <img src="/img/sq-fill-tile-marked.svg" width="50" height="50" />
            </td>
            <td></td>
          </tr>
          <tr>
            <td>
              <img src="/img/sq-fill-tile-marked.svg" width="50" height="50" />
            </td>
            <td>
              <img
                src="/img/sq-fill-tile-marked-90.svg"
                width="50"
                height="50"
              />
            </td>
            <td>
              <img src="/img/sq-fill-tile-marked.svg" width="50" height="50" />
            </td>
            <td>
              <img
                src="/img/sq-fill-tile-marked-90.svg"
                width="50"
                height="50"
              />
            </td>
            <td></td>
          </tr>
          <tr>
            <td>
              <img
                src="/img/sq-fill-tile-marked-90.svg"
                width="50"
                height="50"
              />
            </td>
            <td>
              <img src="/img/sq-fill-tile-marked.svg" width="50" height="50" />
            </td>
            <td>
              <img
                src="/img/sq-fill-tile-marked-90.svg"
                width="50"
                height="50"
              />
            </td>
            <td>
              <img src="/img/sq-fill-tile-marked.svg" width="50" height="50" />
            </td>
            <td></td>
          </tr>
          <tr>
            <td style="text-align: center">⋮</td>
            <td></td>
            <td></td>
            <td></td>
            <td style="text-align: center">⋱</td>
          </tr>
        </table>

        <p>
          Beautiful! It's true that the pattern of colors is a fixed
          checkerboard pattern. Further, there are only two color groups. One
          where the primary color is aligned with the major diagonal,
          <img src="/img/sq-fill-tile-marked.svg" width="16" height="16" />, and
          the other where the primary color is unaligned with the major diagonal
          <img src="/img/sq-fill-tile-marked-90.svg" width="16" height="16" />.
        </p>

        <p>
          Now we need to step back from the abstract and reintroduce the quarter
          circles and 90˚ rotations. The result is similar to the colors. The
          quarter circles can run either along the major diagonal or the minor
          diagonal but arbitrarily and not in a fixed pattern in contraast with
          how coloring works. Meaning only four tiles in total are needed to
          render any tiling in full color. The four tiles are divided into two
          alignment groups with two tiles, normal and rotated, in each alignment
          group:
          <img src="/img/aligned-normal.svg" width="16" height="16" /> (aligned
          normal),
          <img src="/img/aligned-rotated.svg" width="16" height="16" /> (aligned
          rotated),
          <img src="/img/unaligned-normal.svg" width="16" height="16" />
          (unaligned normal), and
          <img src="/img/unaligned-rotated.svg" width="16" height="16" />
          (unaligned rotated).
        </p>

        <p>
          It would have been cool enough if the story ended there, but there's
          one more observation we can make. The checkerboard pattern reveals
          that any 2&times;2 group of tiles can be placed adjacent to any other
          2&times;2 group of tiles. I call these 2&times;2 groups of tiles
          <span style="font-weight: 600">super tiles</span>.
        </p>

        <p>
          What's neat about super tiles is that there are only two possible
          tiles, normal and rotated, for each of the four tiles that make up one
          super tile. Since the checkerboard coloring is implicit in the
          position of a tile within the super tile we only need to count the two
          possible tiles in each position of the 2&times;2 super tile. In other
          words, since 2 &times; 2 &times; 2 &times; 2 = 16, only 16 unique
          super tiles are needed to render any and all possible tilings in full
          color. Amazing!
        </p>

        <p>
          It is super convenient to represent these 16 super tiles with binary
          numbers from 0b0000 to 0b1111 where 0 means normal and 1 means
          rotated. The bits fromn left to right align with a 2&times;2 super
          tile's top left, top right, bottom left, and bottom right,
          respectively. Here are all 16 super tiles in numerical order.
        </p>

        <div class="super-tiles">
          <td><img src="/img/st-0000.svg" width="60" height="60" /></td>
          <td><img src="/img/st-0001.svg" width="60" height="60" /></td>
          <td><img src="/img/st-0010.svg" width="60" height="60" /></td>
          <td><img src="/img/st-0011.svg" width="60" height="60" /></td>
          <td><img src="/img/st-0100.svg" width="60" height="60" /></td>
          <td><img src="/img/st-0101.svg" width="60" height="60" /></td>
          <td><img src="/img/st-0110.svg" width="60" height="60" /></td>
          <td><img src="/img/st-0111.svg" width="60" height="60" /></td>
          <td><img src="/img/st-1000.svg" width="60" height="60" /></td>
          <td><img src="/img/st-1001.svg" width="60" height="60" /></td>
          <td><img src="/img/st-1010.svg" width="60" height="60" /></td>
          <td><img src="/img/st-1011.svg" width="60" height="60" /></td>
          <td><img src="/img/st-1100.svg" width="60" height="60" /></td>
          <td><img src="/img/st-1101.svg" width="60" height="60" /></td>
          <td><img src="/img/st-1110.svg" width="60" height="60" /></td>
          <td><img src="/img/st-1111.svg" width="60" height="60" /></td>
        </div>

        <p>
          Once you have super tiles, all it takes to cover a plane is to loop
          through all of the rows and columns placing one of the 16 tiles,
          usually but not necessarily at random, at each step. The app drawing
          the tiling at the top of this page does just that.
        </p>

        <p>
          Technically speaking, uncolored Truchet tiles can be made into super
          tiles, too, but it doesn't buy you as much in terms of reducing
          complexity. So it's kind of pointless.
        </p>

        <p>
          With this in mind, it should be pretty straight forward to understand
          <a
            href="https://github.com/chris-braun/truchet/blob/main/src/truchet.ts"
            >the code</a
          >
          for building up super tiles and drawing them onto a canvas.
        </p>

        <div class="note">
          <img src="/img/octicons-mark-github.svg" width="24" height="24" />
          <span
            ><a href="https://github.com/chris-braun/truchet/"
              >Full source code</a
            >
            available on GitHub in the truchet repository</span
          >
        </div>

        <div style="font-size: 3rem">∎</div>
      </div>
    </div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
